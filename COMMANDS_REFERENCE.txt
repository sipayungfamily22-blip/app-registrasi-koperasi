ğŸš€ WAITRESS PRODUCTION SETUP - COPY/PASTE COMMANDS

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

## STEP 1: Generate SECRET_KEY

Windows PowerShell:
```
python -c "import secrets; print(secrets.token_hex(32))"
```
Copy output (32 character hex string)

## STEP 2: Edit .env.production

Location: .env.production (di root folder)

Replace ini:
```
SECRET_KEY=your-secure-random-key-change-this-in-production-min-32-chars
```

Dengan hasil dari Step 1.

Contoh:
```
SECRET_KEY=a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6
```

Email Settings:
```
MAIL_USERNAME=your-email@gmail.com
MAIL_PASSWORD=xxxx xxxx xxxx xxxx
```

Dapatkan App Password: https://myaccount.google.com/apppasswords

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

## STEP 3: Run Setup Script

Double-click file:
```
setup_production.bat
```

Atau PowerShell:
```
.\setup_production.bat
```

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

## STEP 4: Launch Production Server

Double-click file:
```
run_production.bat
```

Atau PowerShell:
```
.\run_production.bat
```

Expected output:
```
Aplikasi Koperasi - Production Server
Waitress Production Server dimulai...
Akses aplikasi di: http://localhost:8000
```

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

## VERIFY SERVER RUNNING

Browser:
```
http://localhost:8000
```

Default Login:
```
Email: approval1@example.com
Password: password123
```

Or
```
Email: admin@example.com
Password: password123
```

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

## BACKUP DATABASE & UPLOADS

Before any update:
```
.\backup_production.bat
```

Creates folder: backups\backup_YYYYMMDD_HHMMSS\

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

## TROUBLESHOOTING COMMANDS

### Port 8000 already in use?

Check process:
```
netstat -ano | findstr :8000
```

Kill process (replace PID):
```
taskkill /PID <PID> /F
```

### Database issues?

Check if database exists:
```
dir "koperasi apps\instance\koperasi.db"
```

Reset database (WARNING: Deletes data):
```
del "koperasi apps\instance\koperasi.db"
```

### Check Python packages:

```
pip list | findstr waitress
pip list | findstr python-dotenv
pip list | findstr Flask
```

### Install missing packages:

```
pip install waitress python-dotenv
```

### Check server process:

```
tasklist | findstr python
Get-Process python
```

### Monitor logs real-time:

PowerShell:
```
Get-Content logs\app.log -Wait
```

Or View last 50 lines:
```
Get-Content logs\app.log -Tail 50
```

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

## STOPPING SERVER

In console running server:
```
Ctrl+C
```

Or from another terminal:
```
taskkill /IM python.exe /F
```

Or PowerShell:
```
Stop-Process -Name python -Force
```

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

## PERFORMANCE TUNING

Edit run_production.bat

Line:
```
waitress-serve --port=8000 --threads=4 ...
```

Change --threads value:
- threads=4   â†’ 30-50 users
- threads=8   â†’ 50-100 users
- threads=16  â†’ 100-200+ users

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

## CHANGE PORT

Edit run_production.bat

Line:
```
waitress-serve --port=8000 ...
```

Change 8000 to desired port (e.g., 5000):
```
waitress-serve --port=5000 ...
```

Then access: http://localhost:5000

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

## CHECK IF HTTPS NEEDED

Get SSL Certificate (Free):
https://letsencrypt.org/

Install Nginx (Windows):
https://nginx.org/en/docs/windows.html

Setup reverse proxy to localhost:8000 with SSL

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

## VALIDATE SETUP

Checklist:
â˜ .env.production edited (SECRET_KEY, MAIL settings)
â˜ setup_production.bat ran successfully
â˜ Directories created (logs/, uploads/)
â˜ Packages installed (check: pip list)
â˜ run_production.bat works
â˜ Server accessible at http://localhost:8000
â˜ Can login with test credentials
â˜ Database backup created
â˜ Log file writing correctly

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

## QUICK REFERENCE SUMMARY

Edit config:        .env.production
Setup:              setup_production.bat
Start server:       run_production.bat
Stop server:        Ctrl+C (or taskkill /IM python.exe /F)
Backup database:    backup_production.bat
Check logs:         logs\app.log
Documentation:      QUICKSTART.md (quick guide)
                    PRODUCTION_SETUP.md (full guide)
                    DEPLOYMENT_CHECKLIST.txt (detailed)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

## FILE LOCATIONS

Working Directory:
```
c:\Users\agung.daniel\Project PBO\aplikasi formulir pendaftaran
```

Key Files:
```
.env.production          â† EDIT THIS
run_production.bat       â† RUN THIS
koperasi apps/app.py     â† Application
koperasi apps/wsgi.py    â† WSGI entry point
logs/app.log             â† Application logs
backups/                 â† Backup location
```

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

## ADDITIONAL NOTES

1. First time setup: Takes 1-2 minutes
2. Subsequent starts: 5-10 seconds
3. Memory usage: ~100MB base + 25MB per thread
4. Max concurrent: ~threads * 10 users (rough estimate)
5. Upload limit: 16MB (configurable in .env.production)
6. Session timeout: 1 hour

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

For detailed info, see:
â€¢ QUICKSTART.md - Fast setup guide
â€¢ PRODUCTION_SETUP.md - Comprehensive documentation
â€¢ DEPLOYMENT_CHECKLIST.txt - Complete checklist

Generated: 2026-01-13
Updated: Ready for Production
