ğŸ“‹ CHECKLIST: Waitress Production Setup

âœ… COMPLETED SETUP:

1. âœ“ Created Entry Point
   - wsgi.py (Waitress entry point)

2. âœ“ Production Configuration
   - config.py (updated with environment management)
   - .env.production (with template variables)
   - requirements.txt (added waitress==2.1.2)

3. âœ“ Batch Scripts
   - run_production.bat (main server launcher)
   - backup_production.bat (database/uploads backup)
   - setup_production.bat (initial setup)

4. âœ“ Documentation
   - QUICKSTART.md (3-step quick guide)
   - PRODUCTION_SETUP.md (comprehensive guide)
   - DEPLOYMENT_CHECKLIST.txt (this file)

5. âœ“ Directory Structure
   - logs/ (for application logs)
   - static/uploads/ktp/
   - static/uploads/pas_foto/
   - static/uploads/id_karyawan/
   - static/uploads/buku_tabungan/

6. âœ“ Packages Installed
   - Waitress 2.1.2 (WSGI application server)
   - python-dotenv (environment variable management)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“ CONFIGURATION TASKS (DO THIS BEFORE RUNNING):

â–¡ Step 1: Configure .env.production
  Location: c:\Users\agung.daniel\Project PBO\aplikasi formulir pendaftaran\.env.production
  
  Required Changes:
  - SECRET_KEY: Generate random key (min 32 chars)
    â€¢ Windows: python -c "import secrets; print(secrets.token_hex(32))"
    â€¢ Copy-paste result to .env.production
  
  - MAIL_USERNAME: Your Gmail email
    â€¢ Example: your-email@gmail.com
  
  - MAIL_PASSWORD: Gmail App-Specific Password
    â€¢ Get from: https://myaccount.google.com/apppasswords
    â€¢ Not regular Gmail password!

â–¡ Step 2: Run Setup Script
  Command: setup_production.bat
  This will:
  - Create all needed directories
  - Activate virtual environment
  - Install dependencies
  - Generate production config

â–¡ Step 3: Initialize Database (if needed)
  Command: python -c "from koperasi_apps.app import app, db; app.app_context().push(); db.create_all()"

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸš€ LAUNCH PRODUCTION SERVER:

Run: run_production.bat

Expected Output:
```
========================================
Aplikasi Koperasi - Production Server
========================================

Waitress Production Server dimulai...
Akses aplikasi di: http://localhost:8000

Untuk menghentikan: Tekan Ctrl+C
========================================
```

Access Application: http://localhost:8000

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ” SECURITY VERIFICATIONS:

Before going live, verify:

â–¡ SECRET_KEY is unique and random (min 32 chars)
â–¡ FLASK_DEBUG = 0 in .env.production
â–¡ Database backup created (backup_production.bat)
â–¡ Upload directory has write permissions
â–¡ Mail credentials are valid
â–¡ HTTPS/SSL certificate ready (if using reverse proxy)
â–¡ Log file permissions set correctly
â–¡ Firewall allows port 8000 (if needed)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“Š PERFORMANCE TUNING:

Default: --threads=4 (suitable for 30-50 concurrent users)

For Higher Traffic (edit run_production.bat):
- 50-100 users: --threads=8
- 100-200 users: --threads=16
- 200+ users: Consider Nginx load balancing

Memory Usage:
- Base: ~50-100 MB
- Per thread: ~20-30 MB
- Calculate: 100 + (threads Ã— 25)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ”§ TROUBLESHOOTING QUICK REFERENCE:

Issue: Port 8000 already in use
Fix: netstat -ano | findstr :8000
     taskkill /PID <PID> /F

Issue: Permission denied on file upload
Fix: icacls "static\uploads" /grant Everyone:F /T

Issue: Database locked
Fix: del "koperasi apps\instance\koperasi.db"
     (will recreate on next startup)

Issue: Waitress not found
Fix: python -m pip install waitress

Issue: .env.production not loading
Fix: Verify python-dotenv installed: pip install python-dotenv
     Verify .env.production in correct location (root folder)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“ˆ MONITORING:

Real-time logs:
- Get-Content logs\app.log -Wait (PowerShell)
- tail -f logs\app.log (Git Bash)

Check server status:
- curl http://localhost:8000
- Or open browser: http://localhost:8000

Monitor resources:
- tasklist | findstr python (process list)
- Performance Monitor (built-in Windows utility)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ›‘ STOPPING SERVER:

Option 1: In console where server is running
- Press: Ctrl+C

Option 2: In another terminal/PowerShell
- Command: taskkill /IM python.exe /F
- Or: Stop-Process -Name python -Force

Option 3: Windows Task Manager
- Find python.exe process
- Right-click â†’ End Task

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ’¾ BACKUP STRATEGY:

Automatic Backup:
- Run: backup_production.bat
- Creates: backups\backup_YYYYMMDD_HHMMSS\
- Includes: database.db, uploads/, config files

Recommended Schedule:
- Before any updates: backup_production.bat
- Daily: Automate with Windows Task Scheduler
- Weekly: Manual backup verification
- Monthly: Archive old backups to external drive

Backup Contents:
- koperasi.db (SQLite database)
- uploads/ (user files)
- .env.production (configuration)
- config.py (backup of config)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸŒ HTTPS/NGINX SETUP (Optional):

To setup HTTPS with domain:

1. Install Nginx on Windows
2. Configure reverse proxy to localhost:8000
3. Install SSL certificate (Let's Encrypt free)
4. Access via: https://your-domain.com

Documentation: See PRODUCTION_SETUP.md Nginx section

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ¨ FILE STRUCTURE AFTER SETUP:

aplikasi-formulir-pendaftaran/
â”œâ”€â”€ koperasi apps/
â”‚   â”œâ”€â”€ app.py
â”‚   â”œâ”€â”€ wsgi.py â†  BARU
â”‚   â”œâ”€â”€ config.py â†  UPDATED
â”‚   â”œâ”€â”€ models.py
â”‚   â”œâ”€â”€ database.py
â”‚   â”œâ”€â”€ requirements.txt â†  UPDATED
â”‚   â””â”€â”€ instance/
â”‚       â””â”€â”€ koperasi.db
â”œâ”€â”€ templates/
â”œâ”€â”€ static/
â”‚   â”œâ”€â”€ style.css
â”‚   â””â”€â”€ uploads/
â”‚       â”œâ”€â”€ ktp/
â”‚       â”œâ”€â”€ pas_foto/
â”‚       â”œâ”€â”€ id_karyawan/
â”‚       â””â”€â”€ buku_tabungan/
â”œâ”€â”€ logs/ â†  BARU (empty, created by script)
â”œâ”€â”€ backups/ â†  AUTO-CREATED
â”‚
â”œâ”€â”€ .env.production â†  BARU (EDIT THIS)
â”œâ”€â”€ run_production.bat â†  BARU
â”œâ”€â”€ backup_production.bat â†  BARU
â”œâ”€â”€ setup_production.bat â†  BARU
â”œâ”€â”€ QUICKSTART.md â†  BARU
â”œâ”€â”€ PRODUCTION_SETUP.md â†  BARU
â”œâ”€â”€ DEPLOYMENT_CHECKLIST.txt â†  THIS FILE
â”‚
â””â”€â”€ .venv/ (Python virtual environment)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“š DOCUMENTATION REFERENCES:

Quick Start (3 steps):
â†’ Read: QUICKSTART.md

Comprehensive Guide:
â†’ Read: PRODUCTION_SETUP.md

Configuration Details:
â†’ See: .env.production (with comments)

Application Config:
â†’ See: koperasi apps/config.py (ProductionConfig class)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… READY FOR PRODUCTION!

Status: All setup completed
Server: Waitress 2.1.2 (production-ready)
Configuration: Environment-based (.env.production)
Documentation: Complete
Backup: Automated available

Next: Edit .env.production â†’ Run setup_production.bat â†’ Run run_production.bat

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Support Files Created:
â€¢ QUICKSTART.md - Get started in 3 steps
â€¢ PRODUCTION_SETUP.md - Full documentation
â€¢ DEPLOYMENT_CHECKLIST.txt - This file

---
Generated: 2026-01-13
Version: 1.0.0
Status: Production Ready âœ“
